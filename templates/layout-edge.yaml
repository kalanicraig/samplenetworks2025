# metadata
_schemaVersion: '2.0'
_schemaLayer: MetaDefs

# shared elements type setting

EdgeDefCommon: &SharedControls
  isProvenance:
    control: 'in-checkbox'
    default: false
  hidden:
    control: 'in-checkbox'
    default: false
  includeInGraphTooltip:
    control: 'in-checkbox'
    default: false

# ui metadata definition for edges
# note that this definition comingles visual properties with
# metadata which might need detangling

EdgeDef:
  control: 'ui-form'

  id: # id ui field
    control: 'out-text'
    <<: *SharedControls
    label: 'Id'
    help: 'System-generated unique id'

  source:
    control: 'out-text'
    <<: *SharedControls
    label: 'Source'
    help: 'Edge source node'

  target:
    control: 'out-text'
    <<: *SharedControls
    label: 'Target'
    help: 'Edge target node'

  type: # edge types
    control: 'in-select'
    options:
      - color: '#eeeeee'
        label: ''
    <<: *SharedControls
    label: 'Type'
    help: 'Type of edge connection'

  notes:
    control: 'in-text'
    <<: *SharedControls
    label: 'Notes'
    help: 'Significance of the connection'

  weight:
    control: 'in-number'
    <<: *SharedControls
    label: 'Weight'
    help: 'Weight of edge'
    conditions: [isGraphTooltip]

  infoOrigin:
    control: 'in-text'
    <<: *SharedControls
    label: 'Info Origin'
    help: 'Who created this? (aka Source)'
    conditions: [isGraphTooltip, isProvenance]

  citation:
    control: 'in-text'
    <<: *SharedControls
    label: 'Citation'
    help: 'Source Book.Chapter (e.g. "Part 2 06.03")'

  category:
    control: 'in-text'
    <<: *SharedControls
    label: 'Category'
    help: 'Category (deprecated)'
    conditions: [isHidden]

  created:
    control: 'out-datetime'
    <<: *SharedControls
    label: 'Created'
    help: 'Date and time edge was created'
    conditions: [isGraphTooltip]

  createdBy:
    control: 'out-text'
    <<: *SharedControls
    label: 'Created By'
    help: 'Author who created the edge'
    conditions: [isGraphTooltip]

  updated:
    control: 'out-datetime'
    <<: *SharedControls
    label: 'Updated'
    help: 'Date and time edge was last modified'
    conditions: [isGraphTooltip]

  updatedBy:
    control: 'out-text'
    <<: *SharedControls
    label: 'Updated By'
    help: 'Author who updated the edge'
    conditions: [isGraphTooltip]

  revision:
    <<: *SharedControls
    control: 'out-integer'
    label: 'Revision'
    help: 'Number of times this edge has been revised'
    conditions: [isGraphTooltip]
